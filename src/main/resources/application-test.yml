# ============================================================
# 测试环境配置 (Testing)
# 使用方式: mvn spring-boot:run -Dspring.profiles.active=test
# ============================================================

server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/unmanned_supermarket_test?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:root}
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/unmanned_supermarket_test}

file:
  upload-dir: file

# 测试环境关闭 SQL 日志（避免干扰测试输出）
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.nologging.NoLoggingImpl

sa-token:
  is-log: false

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
