# ============================================================
# 生产环境配置 (Production)
# 使用方式: java -jar app.jar --spring.profiles.active=prod
# 注意：所有敏感信息通过环境变量注入，不要硬编码！
# ============================================================

server:
  port: 8080

spring:
  datasource:
    url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/unmanned_supermarket?useUnicode=true&characterEncoding=utf-8&useSSL=true&serverTimezone=Asia/Shanghai
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017/unmanned_supermarket}

file:
  upload-dir: ${UPLOAD_DIR:/opt/supermarket/file}

# 生产环境关闭 SQL 日志
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.nologging.NoLoggingImpl

# 生产环境关闭 Sa-Token 日志
sa-token:
  is-log: false

# 生产环境仅暴露 health 端点
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when-authorized
