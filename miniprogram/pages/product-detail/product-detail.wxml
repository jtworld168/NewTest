<view class="container">
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <block wx:if="{{!loading && product}}">
    <!-- Product Image -->
    <view class="product-image-section">
      <image class="product-main-image" src="{{product._imageUrl || '/images/product-placeholder.png'}}" mode="aspectFill"></image>
    </view>

    <!-- Product Info -->
    <view class="product-info-card">
      <view class="price-row">
        <text class="price">Â¥{{product._displayPrice}}</text>
        <text class="original-price" wx:if="{{product._isEmployee}}">Â¥{{product.price}}</text>
        <text class="employee-tag" wx:if="{{product._isEmployee}}">å‘˜å·¥å†…è´­ä»·</text>
      </view>
      <text class="product-title">{{product.name}}</text>
      <text class="product-barcode" wx:if="{{product.barcode}}">æ¡ç : {{product.barcode}}</text>
      <view class="product-stock-row">
        <text class="stock-text">åº“å­˜: {{product.stock}}ä»¶</text>
        <text class="status-tag {{product.status === 1 ? 'on-shelf' : 'off-shelf'}}">{{product.status === 1 ? 'åœ¨å”®' : 'å·²ä¸‹æ¶'}}</text>
      </view>
    </view>

    <!-- Description -->
    <view class="detail-card" wx:if="{{product.description}}">
      <text class="detail-title">å•†å“ä»‹ç»</text>
      <text class="detail-content">{{product.description}}</text>
    </view>

    <!-- Category -->
    <view class="detail-card" wx:if="{{product.categoryName}}">
      <text class="detail-title">å•†å“åˆ†ç±»</text>
      <text class="detail-content">{{product.categoryName}}</text>
    </view>

    <!-- Bottom Action Bar -->
    <view class="bottom-action-bar">
      <button class="action-btn cart-btn" bindtap="addToCart">ğŸ›’ åŠ å…¥è´­ç‰©è½¦</button>
      <button class="action-btn buy-btn" bindtap="buyNow">ç«‹å³è´­ä¹°</button>
    </view>
  </block>

  <view class="empty-state" wx:if="{{!loading && !product}}">
    <text class="empty-icon">ğŸ˜•</text>
    <text class="empty-text">å•†å“ä¸å­˜åœ¨</text>
  </view>
</view>
