<view class="container">
  <view class="header-bar">
    <text class="header-title">æ¶ˆæ¯é€šçŸ¥</text>
    <text class="mark-all" bindtap="markAllRead" wx:if="{{messages.length > 0}}">å…¨éƒ¨å·²è¯»</text>
  </view>
  <view wx:if="{{messages.length === 0}}" class="empty">
    <text class="empty-icon">ğŸ“­</text>
    <text class="empty-text">æš‚æ— æ¶ˆæ¯</text>
  </view>
  <view wx:for="{{messages}}" wx:key="id" class="msg-item {{item.isRead === 0 ? 'unread' : ''}}" bindtap="readMessage" data-id="{{item.id}}" data-index="{{index}}">
    <view class="msg-header">
      <view class="msg-type-row">
        <text class="msg-type {{item.type === 'ORDER' ? 'type-order' : item.type === 'COUPON' ? 'type-coupon' : 'type-system'}}">{{typeMap[item.type] || 'ç³»ç»Ÿæ¶ˆæ¯'}}</text>
        <view class="unread-dot" wx:if="{{item.isRead === 0}}"></view>
      </view>
      <text class="msg-time">{{item.createTime}}</text>
    </view>
    <text class="msg-title">{{item.title}}</text>
    <text class="msg-content">{{item.content}}</text>
  </view>
</view>
