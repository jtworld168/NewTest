<view class="container">
  <!-- Tabs -->
  <view class="tabs">
    <view class="tab {{currentTab === item.key ? 'active' : ''}}" wx:for="{{tabs}}" wx:key="key" bindtap="switchTab" data-tab="{{item.key}}">
      <text>{{item.name}}</text>
    </view>
  </view>

  <!-- Coupon List -->
  <view class="coupon-list" wx:if="{{!loading}}">
    <block wx:for="{{coupons}}" wx:key="id">
      <view class="coupon-card {{item.status !== 'AVAILABLE' ? 'disabled' : ''}}" wx:if="{{item.status === currentTab}}">
        <view class="coupon-left">
          <text class="coupon-symbol">Â¥</text>
          <text class="coupon-amount">{{item.discount}}</text>
        </view>
        <view class="coupon-divider"></view>
        <view class="coupon-right">
          <text class="coupon-name">{{item.couponName}}</text>
          <text class="coupon-condition">æ»¡{{item.minAmount}}å…ƒå¯ç”¨</text>
          <text class="coupon-expire" wx:if="{{item.endTime}}">æœ‰æ•ˆæœŸè‡³ {{item.endTime}}</text>
          <text class="coupon-status-tag" wx:if="{{item.status === 'USED'}}">å·²ä½¿ç”¨</text>
          <text class="coupon-status-tag locked" wx:if="{{item.status === 'LOCKED'}}">å·²é”å®š</text>
          <text class="coupon-status-tag expired" wx:if="{{item.status === 'EXPIRED'}}">å·²è¿‡æœŸ</text>
        </view>
      </view>
    </block>
  </view>

  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view class="empty-state" wx:if="{{!loading && coupons.length === 0}}">
    <text class="empty-icon">ğŸ«</text>
    <text class="empty-text">æš‚æ— ä¼˜æƒ åˆ¸</text>
  </view>
</view>
